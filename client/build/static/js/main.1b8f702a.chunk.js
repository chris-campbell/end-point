(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{245:function(e,n,t){"use strict";t.r(n);var r,a,c,s,i,o,l=t(0),u=t.n(l),d=t(22),m=t.n(d),p=t(43),b=t.n(p),j=t(24),g=t(7),f=t(6),h=t.n(f),x=t(9),O=t(8),v=t(5),w=t(4),y=t(30),k=w.a.div(r||(r=Object(v.a)(["\n  .dashboard-wrapper {\n    max-width: 980px;\n    margin: 0 auto;\n  }\n"]))),S=Object(w.a)(y.a)(a||(a=Object(v.a)(["\n  margin: 0 auto;\n"]))),N=b.a.create({baseURL:"http://localhost:4000",headers:{Accept:"application/json","Content-Type":"application/json"},timeout:2e4}),C=t(1),A=u.a.createContext(),U=function(e){var n=e.children,t=u.a.useState(null),r=Object(O.a)(t,2),a=r[0],c=r[1],s=u.a.useState(!1),i=Object(O.a)(s,2),o=i[0],d=i[1];Object(l.useEffect)((function(){m()}),[]);var m=function(){var e=Object(x.a)(h.a.mark((function e(){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.prev=1,e.next=4,N.get("/getCurrentUser",{withCredentials:!0});case 4:(n=e.sent)&&(console.log({userData:n}),c(n.data),d(!1)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}();return Object(C.jsx)(A.Provider,{value:{currentUser:a,fetchCurrentUser:m,loading:o},children:n})},E=function(){return u.a.useContext(A)},T=t(98),L=t.n(T),z=t.p+"static/media/sender.0d2b66ea.svg",q=w.a.div(c||(c=Object(v.a)(["\n  .alert-sender-wrapper {\n    padding: 2rem 1rem 0 1rem;\n    .send-console {\n      display: flex;\n      align-items: center;\n      gap: 1rem;\n      margin-bottom: 1.5rem;\n      .send-queue {\n        font-size: 1.1rem;\n        color: var(--label-sub);\n        letter-spacing: 0.02rem;\n        .queue-count {\n          font-weight: 600;\n          color: var(--accent-dark);\n          margin-right: 0.5rem;\n        }\n      }\n    }\n    .outgoing-alerts {\n      padding: 0;\n      img {\n        width: 50px;\n        height: 50px;\n        object-fit: cover;\n        border-radius: 10rem;\n        margin-left: 0.3rem;\n        box-shadow: 10px 10px 10px -8px rgba(0, 0, 0, 0.48);\n        -webkit-box-shadow: 10px 10px 10px -8px rgba(0, 0, 0, 0.48);\n        -moz-box-shadow: 10px 10px 10px -8px rgba(0, 0, 0, 0.48);\n        &:first-child {\n          margin-left: 0;\n        }\n      }\n    }\n  }\n"]))),I=Object(w.b)(s||(s=Object(v.a)(["\n  0% { transform: scale(0.3) }\n 100% { transform: scale(1.0) }\n"]))),P=w.a.img(i||(i=Object(v.a)(["\n  animation-name: ",";\n  animation-duration: 700ms;\n  width: 50px;\n  height: 50px;\n  object-fit: cover;\n  border-radius: 10rem;\n  margin-left: 0.3rem;\n  box-shadow: 10px 10px 10px -8px rgba(0, 0, 0, 0.48);\n  -webkit-box-shadow: 10px 10px 10px -8px rgba(0, 0, 0, 0.48);\n  -moz-box-shadow: 10px 10px 10px -8px rgba(0, 0, 0, 0.48);\n  &:first-child {\n    margin-left: 0;\n  }\n"])),I),D=function(e){var n=e.image;return Object(C.jsx)(P,{src:n})},F=t(12),R=(t(23),t(99)),_=t.n(R).a.connect("http://localhost:4000",{query:{user:localStorage.getItem("user")}}),H=function(e){var n=e.sendList,t=_,r=E().currentUser;return Object(C.jsx)(q,{children:Object(C.jsxs)("div",{className:"alert-sender-wrapper",children:[Object(C.jsxs)("div",{className:"send-console",children:[Object(C.jsxs)("span",{className:"send-queue",children:[Object(C.jsx)("span",{className:"queue-count",children:n.length})," people in send queue"]}),Object(C.jsx)("img",{onClick:function(){return function(e,n,t){var r=Object(F.a)({},t);e.emit("send",{sendList:n,alertData:r})}(t,n,r)},width:30,src:z})]}),Object(C.jsx)("ul",{className:"outgoing-alerts",children:n.map((function(e){return Object(C.jsx)(D,{image:e.image},e._id)}))})]})})},J=w.a.input(o||(o=Object(v.a)(["\n  height: 3.5rem;\n  width: 100%;\n  border-radius: 2rem;\n  background-color: #f2f2f2;\n  padding-left: 1.5rem;\n  font-size: 1.1rem;\n  letter-spacing: 0.02rem;\n  border: 2px solid transparent;\n  color: var(--accent-dark);\n  margin-bottom: 2rem;\n"])));var B,Y,M=function(e){var n=e.inputElement,t=e.searchTerm,r=e.getSearchTerm;return Object(C.jsx)(J,{ref:n,value:t,placeholder:"Type a name...",onChange:function(){return r()}})},G=w.a.form(B||(B=Object(v.a)(["\n  padding: 1rem 1rem 3rem 1rem;\n"]))),K=function(e){var n=e.input,t=e.searchTerm,r=e.getSearchTerm;return Object(C.jsx)(G,{children:Object(C.jsx)(M,{inputElement:n,searchTerm:t,getSearchTerm:r})})},Q=t(100),V=t.n(Q),W=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},X=w.a.li(Y||(Y=Object(v.a)(["\n  display: flex;\n  margin-bottom: 0.5rem;\n  align-items: center;\n  gap: 1rem;\n  &:last-child {\n    margin-bottom: -8px;\n  }\n  img {\n    width: 50px;\n    height: 50px;\n    border-radius: 2.5rem;\n    object-fit: cover;\n    border: 2px solid #ffd659;\n  }\n\n  .suggestion-short-details {\n    .suggestion-distance {\n      margin-left: 2rem;\n      text-align: left;\n      color: var(--secondary-color-red);\n    }\n  }\n"])));var Z=function(e){var n=e.suggestion,t=e.addToSendList,r=e.currentUserLocation;return Object(C.jsxs)(X,{"data-id":n._id,onClick:function(e){return t(e)},children:[Object(C.jsx)("img",{src:n.image}),Object(C.jsxs)("div",{className:"suggestion-short-details",children:[Object(C.jsx)("span",{className:"suggestion-name",children:"".concat(W(n.firstName)," ").concat(W(n.lastName))}),Object(C.jsx)("span",{className:"suggestion-distance",children:" ".concat(function(e){var n=r.latitude,t=r.longitude,a={latitude:e.coordinates.lat,longitude:e.coordinates.lng},c={latitude:n,longitude:t};return V()(c,a,{unit:"mile"})}(n).toFixed(1).toString()," miles away ")})]})]},n._id)};var $,ee,ne,te,re,ae,ce,se,ie,oe,le,ue,de,me,pe,be,je,ge=function(e,n){Object(l.useEffect)((function(){function t(t){e.current&&!e.current.contains(t.target)&&n()}return document.addEventListener("mousedown",t),function(){document.removeEventListener("mousedown",t)}}),[e])},fe=w.a.div($||($=Object(v.a)(["\n  background-color: #ffc107;\n  position: absolute;\n  max-width: 980px;\n  width: 100%;\n  border-radius: 1rem;\n  max-height: 250px;\n  overflow-y: scroll;\n  height: auto;\n  box-shadow: 10px 10px 24px -7px rgba(0, 0, 0, 0.78);\n  -webkit-box-shadow: 10px 10px 24px -7px rgba(0, 0, 0, 0.78);\n  -moz-box-shadow: 10px 10px 24px -7px rgba(0, 0, 0, 0.78);\n  position: absolute;\n  top: 16rem;\n  &::-webkit-scrollbar {\n    background-color: transparent;\n  }\n\n  &::-webkit-scrollbar-thumb {\n    background-color: #d8a202f2;\n    border-radius: 1rem;\n  }\n\n  ul {\n    padding-left: 0;\n    padding: 1rem;\n    margin-bottom: 0.5rem;\n  }\n"]))),he=function(e){var n=e.searchResults,t=e.suggestionBox,r=e.currentUserLocation,a=e.addToSendList,c=e.showSuggestionArea,s=e.reset,i=Object(l.useRef)(null);ge(i,s);return Object(C.jsx)(fe,{ref:i,children:n.length>0&c?Object(C.jsx)("ul",{ref:t,children:n.map((function(e){return Object(C.jsx)(Z,{suggestion:e,addToSendList:a,currentUserLocation:r})}))}):Object(C.jsx)("ul",{ref:t,style:{display:"none"}})})},xe=t(16),Oe=Object(w.b)(ee||(ee=Object(v.a)(["\n  0% { transform: scale(0.3) }\n 100% { transform: scale(1.0) }\n"]))),ve=w.a.article(ne||(ne=Object(v.a)(["\n  animation-name: ",";\n  animation-duration: 800ms;\n  border-top-left-radius: 2rem;\n  border-top-right-radius: 0.5rem;\n  border-bottom-left-radius: 0.2rem;\n  border-bottom-right-radius: 0.2rem;\n  box-shadow: 10px 10px 29px -19px rgba(0, 0, 0, 0.75);\n  -webkit-box-shadow: 10px 10px 29px -19px rgba(0, 0, 0, 0.75);\n  -moz-box-shadow: 10px 10px 29px -19px rgba(0, 0, 0, 0.75);\n  .card-wrapper {\n    img {\n      width: 100%;\n      border-top-left-radius: 2rem;\n      border-top-right-radius: 0.5rem;\n      max-height: 137px;\n      object-fit: cover;\n    }\n    .user-alert-details {\n      padding: 0.5rem;\n      text-align: center;\n      h3 {\n        text-transform: capitalize;\n        font-size: 1.3rem;\n        font-weight: 600;\n        margin-bottom: 0;\n        margin-top: 1rem;\n        color: var(--primary-color-red);\n      }\n\n      .email {\n        font-size: 0.9rem;\n        color: var(--accent-dark);\n      }\n\n      .address {\n        font-size: 0.7rem;\n        color: var(--accent-dark);\n      }\n    }\n  }\n"])),Oe),we=function(e){var n=e.firstName,t=e.lastName,r=e.emailAddress,a=e.image,c=e.address;return Object(C.jsx)(ve,{children:Object(C.jsxs)("div",{className:"card-wrapper",children:[Object(C.jsx)("img",{src:a}),Object(C.jsxs)("div",{className:"user-alert-details",children:[Object(C.jsxs)("h3",{children:[n," ",t]}),Object(C.jsx)("p",{className:"email",children:r}),Object(C.jsx)("p",{className:"address",children:c})]})]})})},ye=w.a.nav(te||(te=Object(v.a)(["\n  margin-top: 7rem;\n  li a {\n    font-size: 1.1rem;\n  }\n"]))),ke=function(e){for(var n=e.alertsPerPage,t=e.totalAlerts,r=e.paginate,a=[],c=1;c<=Math.ceil(t/n);c++)a.push(c);return Object(C.jsx)(ye,{"aria-label":"...",children:Object(C.jsx)("ul",{className:"pagination justify-content-center pagination-sm",children:a.map((function(e){return Object(C.jsx)("li",{className:"page-item",children:Object(C.jsx)("a",{className:"page-link",tabIndex:"-"+e,onClick:function(){return r(e)},href:"#",children:e})})}))})})},Se=w.a.div(re||(re=Object(v.a)(["\n  display: grid;\n  grid-template-columns: repeat(4, 1fr);\n  gap: 1.5rem;\n  padding: 1rem;\n\n  @media (max-width: 747px) {\n    grid-template-columns: repeat(2, 1fr);\n  }\n"]))),Ne=Object(w.a)(y.a)(ae||(ae=Object(v.a)(["\n  display: flex;\n  justify-content: center;\n"]))),Ce=function(e){var n=e.userId,t=e.incomingAlert,r=e.alertsCount,a=e.setAlertsCount,c=Object(l.useState)([]),s=Object(O.a)(c,2),i=s[0],o=s[1],u=Object(l.useState)(1),d=Object(O.a)(u,2),m=d[0],p=d[1],b=Object(l.useState)(8),j=Object(O.a)(b,1)[0],g=Object(l.useState)(!1),f=Object(O.a)(g,2),v=f[0],w=f[1],y={withCredentials:!0};Object(l.useEffect)((function(){o((function(e){return[].concat(Object(xe.a)(e),[t])}))}),[t]),Object(l.useEffect)((function(){(function(){var e=Object(x.a)(h.a.mark((function e(){var t,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(!0),e.prev=1,e.next=4,N.post("/fetchAlerts",{userId:n},y);case 4:t=e.sent,(r=t.data)&&(a(r.length),o(r)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:return e.prev=12,w(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,9,12,15]])})));return function(){return e.apply(this,arguments)}})()()}),[]);var k=m*j,S=k-j,A=i.slice(S,k);return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(Se,{children:v?Object(C.jsx)("div",{style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},children:Object(C.jsx)(Ne,{color:"#ac1111"})}):i&&A.map((function(e){return Object(C.jsx)(we,Object(F.a)({},e),e._id)}))}),Object(C.jsx)(ke,{alertsPerPage:j,totalAlerts:r,paginate:function(e){p(e)}})]})},Ae=function(e){var n=Object(l.useState)(""),t=Object(O.a)(n,2),r=t[0],a=t[1];Object(l.useEffect)((function(){c()}),[e]);var c=function(e){a(e)};return{error:r,setError:a}},Ue=function(){var e=Object(l.useState)({}),n=Object(O.a)(e,2),t=n[0],r=n[1],a=Object(l.useState)(!1),c=Object(O.a)(a,2),s=c[0],i=c[1],o=Ae().setError;Object(l.useEffect)((function(){i(!0),u().then((function(){i(!1)}))}),[]);var u=function(){var e=Object(x.a)(h.a.mark((function e(){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ee;case 3:n=e.sent,console.log(n),r(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),o(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return{userCoordinates:t,isLoading:s}},Ee=new Promise((function(e,n){navigator.geolocation?navigator.geolocation.getCurrentPosition((function(n){var t=n.coords.latitude,r=n.coords.longitude;e({latitude:t,longitude:r})})):e("Your browser doesnt support geolocation api")})),Te=t(45),Le=function(e,n,t,r,a){(n(e),""!==e)?(t(a.filter((function(n){return Object.values(n),Object.values(n).join(" ").toLowerCase().includes(e.toLowerCase())}))),r(!0)):(t([]),r(!1))},ze=function(){var e=Object(l.useState)([]),n=Object(O.a)(e,2),t=n[0],r=n[1],a=Object(l.useState)([]),c=Object(O.a)(a,2),s=c[0],i=c[1],o=Object(l.useState)(""),u=Object(O.a)(o,2),d=u[0],m=u[1],p=Object(l.useState)([]),b=Object(O.a)(p,2),j=b[0],f=b[1],v=Object(l.useState)({}),w=Object(O.a)(v,2),y=w[0],A=w[1],U=Object(l.useState)([]),T=Object(O.a)(U,2),z=T[0],q=T[1],I=Object(l.useState)(0),P=Object(O.a)(I,2),D=P[0],F=P[1],R=Object(l.useState)(!1),J=Object(O.a)(R,2),B=J[0],Y=J[1],M=Object(l.useRef)(null),G=Object(l.useRef)(null),Q=Object(l.useRef)(_),V=E(),W=V.currentUser,X=V.loading,Z=Ue(),$=Z.userCoordinates,ee=Z.isLoading,ne=Object(Te.b)().enqueueSnackbar,te=Ae(),re=te.error,ae=te.setError,ce=Object(g.g)(),se={withCredentials:!0};Object(l.useEffect)((function(){(function(){var e=Object(x.a)(h.a.mark((function e(){var n,t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.get("/getAllUsers",se);case 3:n=e.sent,t=n.data,i(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),ae(e.t0.response.data);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(l.useEffect)((function(){Q.current.on("send_alert",(function(e){var n,t,r;F(e.alerts[0].alerts.length),q(e.alert),n=ne,t=e.alert.firstName,r=e.alert.lastName,n("Alert from ".concat(t," ").concat(r),{variant:"success"})}))}),[]),Object(l.useEffect)((function(){re&&ne(re,{variant:"error"})}),[re]),Object(l.useEffect)((function(){W&&function(){var e=Object(x.a)(h.a.mark((function e(){var n,t,r,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=W._id,t=W.firstName,r=W.lastName,a={id:n,socketId:Q.current.id,userName:L()("".concat(t," ").concat(r))},e.prev=2,e.next=5,N.post("/addSocket",a,se);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),ae(e.t0);case 10:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(){return e.apply(this,arguments)}}()()}),[Q,W,ce.pathname]),Object(l.useEffect)((function(){ee&&A($)}),[$]);return X?Object(C.jsx)(S,{color:"#ac1111"}):Object(C.jsx)(k,{className:"dashboard-container",children:Object(C.jsxs)("div",{className:"dashboard-wrapper",children:[Object(C.jsx)(H,{sendList:t}),Object(C.jsx)(K,{input:G,searchTerm:d,getSearchTerm:function(){Le(G.current.value,m,f,Y,s)}}),Object(C.jsx)(he,{searchResults:j,suggestionBox:M,currentUserLocation:y,addToSendList:function(e){var n=e.currentTarget.getAttribute("data-id"),a=s.filter((function(e){return e._id===n})),c=t.filter((function(e){return e._id===n})).length;if(m(""),Y(!1),!c)return function(e,n){e((function(e){return[].concat(Object(xe.a)(e),[n])}))}(r,a[0]),m("".concat(a[0].firstName," ").concat(a[0].lastName," - ").concat(a[0].address));ae("User already in alert list.")},showSuggestionArea:B,reset:function(){Y(!1),m("")}}),Object(C.jsx)(Ce,{userId:W._id,loading:X,incomingAlert:z,alertsCount:D,setAlertsCount:F})]})})},qe=t(10),Ie={emailAddress:"",password:""},Pe=w.a.input(ce||(ce=Object(v.a)(["\n  height: 3.5rem;\n  background-color: transparent;\n  border: 2px solid white;\n  max-width: 35rem;\n  flex-basis: 35rem;\n  margin-bottom: 1rem;\n  padding-left: 1rem;\n  color: #fff;\n  border-radius: 0.2rem;\n  &::placeholder {\n    color: #ffffff99;\n    font-size: 1.1em;\n  }\n"]))),De=function(e){var n=e.type,t=e.name,r=e.setState,a=e.placeHolder,c=e.setType;return Object(C.jsx)(Pe,{type:n,name:t,onChange:function(e){return r(e.target.value,c)},placeholder:a})},Fe=w.a.form(se||(se=Object(v.a)(["\n  padding: 1rem;\n  max-width: 35rem;\n  margin: 0 auto;\n  .form-wrapper {\n    display: grid;\n    grid-template-columns: repeat(1, 1fr);\n  }\n\n  .login-btn {\n    width: 100%;\n    height: 3rem;\n    border: none;\n    background-color: var(--secondary-color);\n    color: var(--accent-light);\n    margin-bottom: 1rem;\n    border-radius: 0.2rem;\n    &:hover {\n      background: #d8b011;\n    }\n  }\n"]))),Re=function(e){var n=e.loginUser,t=e.updateState;return Object(C.jsxs)(Fe,{className:"login-form",onSubmit:n,children:[Object(C.jsxs)("div",{className:"form-wrapper",children:[Object(C.jsx)(De,{type:"text",name:"email",setType:"emailAddress",placeHolder:"james@domain.com",setState:t}),Object(C.jsx)(De,{type:"password",name:"password",setType:"password",placeHolder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",setState:t})]}),Object(C.jsx)("button",{className:"login-btn",children:"Log in"})]})},_e=Object(l.createContext)({}),He=function(e){var n=e.children,t=Object(l.useState)(void 0),r=Object(O.a)(t,2),a=r[0],c=r[1],s=Ae().setError,i=function(){var e=Object(x.a)(h.a.mark((function e(){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.get("/isUserLoggedIn",{withCredentials:!0});case 3:return n=e.sent,e.abrupt("return",c(n.data));case 7:e.prev=7,e.t0=e.catch(0),s(e.t0.response);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(C.jsx)(_e.Provider,{value:{auth:a,setAuth:c,getAuth:i},children:n})},Je=function(){return Object(l.useContext)(_e)},Be=t.p+"static/media/logo.0bb4f11e.svg",Ye=w.a.div(ie||(ie=Object(v.a)(["\n  background-color: var(--primary-color-red);\n  min-height: 100vh;\n\n  .login-wrapper {\n    min-height: 100vh;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    .contain {\n      width: 100%;\n      max-width: 35rem;\n      padding-inline: 1rem;\n      .signup {\n        padding-inline: 1rem;\n      }\n    }\n\n    img {\n      display: block;\n      text-align: center;\n      margin: 0 auto;\n      margin-bottom: 2rem;\n    }\n\n    .not-registered {\n      color: var(--accent-light);\n      margin-top: 1rem;\n      .registered-link {\n        color: var(--secondary-color);\n      }\n    }\n  }\n"]))),Me=function(){var e=Object(l.useState)(Ie),n=Object(O.a)(e,2),t=n[0],r=n[1],a=Je().setAuth,c=E().fetchCurrentUser,s=Object(g.h)(),i=function(){var e=Object(x.a)(h.a.mark((function e(n){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,N.post("/loginUser",t,{withCredentials:!0});case 4:(r=e.sent)&&(a(r.data),c(),localStorage.setItem("user",JSON.stringify(r.data)),s("/dashboard")),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(n){return e.apply(this,arguments)}}();return Object(C.jsx)(Ye,{className:"login",children:Object(C.jsx)("div",{className:"login-wrapper",children:Object(C.jsxs)("div",{className:"contain",children:[Object(C.jsx)("img",{alt:"logo",src:Be,className:"login-logo",width:65}),Object(C.jsx)(Re,{loginUser:i,updateState:function(e,n){r((function(t){return Object(F.a)(Object(F.a)({},t),{},Object(qe.a)({},n,e))}))}}),Object(C.jsx)("div",{className:"signup",children:Object(C.jsxs)("p",{className:"not-registered",children:["Not Registered, sign up"," ",Object(C.jsx)(j.b,{className:"registered-link",to:"/",children:"here"}),"."]})})]})})})},Ge=w.a.div(oe||(oe=Object(v.a)(["\n  margin-bottom: 1rem;\n  input {\n    display: none;\n  }\n\n  label {\n    color: #9a9a9a;\n\n    &:hover {\n      color: #707070;\n    }\n\n    &:active {\n      color: var(--secondary-color);\n    }\n  }\n"]))),Ke=function(e){var n=e.setType,t=e.setState,r=Object(l.useState)(""),a=Object(O.a)(r,2),c=a[0],s=a[1],i=function(){var e=Object(x.a)(h.a.mark((function e(r){var a,c,i,o,l;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),a=r.target.files[0],s(r.target.files[0].name),(c=new FormData).append("image",a),i={Authorization:"Client-ID 7939250da82f389"},e.next=8,N.post("https://api.imgur.com/3/image/",c,{headers:i});case 8:o=e.sent,l=o.data.data.link,t(l,n);case 11:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return Object(C.jsxs)(Ge,{children:[Object(C.jsx)("input",{type:"file",name:"avatar",id:"img",title:" ",onChange:function(e){return i(e)}}),Object(C.jsxs)("label",{for:"img",children:[c||"Upload avatar"," "]})]})},Qe=t(36),Ve=t.n(Qe),We=w.a.input(le||(le=Object(v.a)(["\n  height: 3rem;\n  margin-bottom: 1.5rem;\n  padding-left: 1rem;\n  border-radius: 0.3rem;\n  border: 1px solid lightgrey;\n  width: 100%;\n  font-size: 0.9rem;\n  letter-spacing: 0.07rem;\n  color: #535353;\n"]))),Xe=function(e){var n=e.setState,t=e.form.address,r=function(){var e=Object(x.a)(h.a.mark((function e(t){var r,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Qe.geocodeByAddress)(t);case 2:return r=e.sent,e.next=5,Object(Qe.getLatLng)(r[0]);case 5:a=e.sent,n(a,"coordinates"),n(t,"address");case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(Ve.a,{value:t,onChange:function(e){return n(e,"address")},onSelect:r,children:function(e){var n=e.getInputProps,t=e.suggestions,r=e.getSuggestionItemProps,a=e.loading;return Object(C.jsxs)("div",{className:"location-input",children:[Object(C.jsx)(We,Object(F.a)(Object(F.a)({},n({placeholder:""})),{},{name:"location",variant:"outlined",placeholder:"1 New York Plaza, FDR Drive, New York, NY"})),Object(C.jsxs)("div",{children:[a?Object(C.jsx)("div",{children:"...loading"}):null,t.map((function(e){var n={backgroundColor:e.active?"#41b6e6":"#fff"};return Object(C.jsx)("div",Object(F.a)(Object(F.a)({},r(e,{style:n})),{},{children:e.description}))}))]})]})}})})},Ze=t(101),$e=t.n(Ze),en=function(){var e=Object(x.a)(h.a.mark((function e(n,t,r){var a,c,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if($e.a.isEmail(n)){e.next=3;break}return r((function(e){return Object(F.a)(Object(F.a)({},e),{},{emailAddress:""})})),e.abrupt("return",t.current.querySelector("email-text-field").value="");case 3:return a={emailAddress:n},e.prev=4,e.next=7,N.post("/checkEmailUnique",a,{withCredentials:!0});case 7:if(c=e.sent,s=c.data){e.next=11;break}return e.abrupt("return",console.log("Email provided isnt unique, Please try another one."));case 11:return e.abrupt("return",s);case 14:e.prev=14,e.t0=e.catch(4),console.error(e.t0);case 17:case"end":return e.stop()}}),e,null,[[4,14]])})));return function(n,t,r){return e.apply(this,arguments)}}(),nn=function(e){var n=e.emailUnique,t=(0,e.isFieldsEmpty)();return Object(C.jsx)(tn,{children:Object(C.jsx)(rn,{isDisabled:t,onClick:n,disabled:!t,children:"Sign up"})})},tn=w.a.div(ue||(ue=Object(v.a)(["\n  display: flex;\n  justify-content: flex-end;\n"]))),rn=w.a.button(de||(de=Object(v.a)(["\n  background-color: ",";\n  padding: 1rem 4rem;\n  max-width: fit-content;\n  border-radius: 2rem;\n  border: none;\n"])),(function(e){return e.isDisabled?"var(--secondary-color)":"lightgray"})),an=function(e){var n=e.type,t=e.name,r=e.setState,a=e.placeHolder,c=e.setType;return Object(C.jsx)(cn,{type:n,name:t,placeholder:a,onChange:function(e){return r(e.target.value,c)}})},cn=w.a.input(me||(me=Object(v.a)(["\n  height: 3rem;\n  margin-bottom: 1.5rem;\n  padding-left: 1rem;\n  border-radius: 0.3rem;\n  border: 1px solid lightgrey;\n  width: 100%;\n  font-size: 0.9rem;\n  letter-spacing: 0.07rem;\n  color: #535353;\n"]))),sn=w.a.form(pe||(pe=Object(v.a)(["\n  width: 100%;\n\n  @media (max-width: 794px) {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n\n  .signup-form-wrapper {\n    min-height: 100vh;\n    display: flex;\n    flex-direction: column;\n    max-width: 30rem;\n    margin: 0 auto;\n    justify-content: center;\n    padding: 2rem;\n\n    @media (max-width: 794px) {\n      min-height: 0;\n      display: block;\n      max-width: 100%;\n    }\n\n    h2 {\n      margin-bottom: 2rem;\n      text-transform: uppercase;\n      text-align: center;\n    }\n  }\n"]))),on=function(e){var n=e.form,t=e.formState,r=e.emailUnique,a=e.isFieldsEmpty,c=e.createUser;return Object(C.jsx)(sn,{onSubmit:c,className:"signup-form",children:Object(C.jsxs)("div",{className:"signup-form-wrapper",children:[Object(C.jsx)("h2",{children:"Create an account"}),Object(C.jsx)(an,{type:"text",name:"first-name",setType:"firstName",setState:t,placeHolder:"First name"}),Object(C.jsx)(an,{type:"text",name:"last-name",setType:"lastName",setState:t,placeHolder:"Last name"}),Object(C.jsx)(an,{type:"text",name:"email-address",setType:"emailAddress",setState:t,placeHolder:"chris@domain.com"}),Object(C.jsx)(an,{type:"password",name:"password",setType:"password",setState:t,placeHolder:"Password"}),Object(C.jsx)(Xe,{setState:t,form:n}),Object(C.jsx)(Ke,{setType:"image",setState:t}),Object(C.jsx)(nn,{emailUnique:r,isFieldsEmpty:a})]})})},ln=w.a.div(be||(be=Object(v.a)(["\n  .signup-wrapper {\n    display: grid;\n    grid-template-columns: 1fr 2fr;\n    min-height: 100vh;\n\n    @media (max-width: 794px) {\n      grid-template-rows: auto auto;\n      grid-template-columns: none;\n    }\n\n    .signup-message-panel {\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      padding: 2rem;\n      background-color: var(--primary-color-red);\n\n      @media (max-width: 794px) {\n        padding: 3rem 2rem;\n      }\n\n      .signup-message-wrapper {\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        max-width: 27rem;\n\n        img {\n          margin-bottom: 2.5rem;\n        }\n\n        h1 {\n          margin-bottom: 1.5rem;\n          text-transform: uppercase;\n          color: var(--secondary-color);\n          text-align: center;\n        }\n\n        p {\n          margin-bottom: 2rem;\n          line-height: 1.5rem;\n          text-align: center;\n          color: var(--accent-light);\n        }\n\n        button {\n          padding: 0.9rem 4rem;\n          border-radius: 2rem;\n          max-width: fit-content;\n          background-color: transparent;\n          border: 1px solid var(--accent-light);\n          color: var(--accent-light);\n          a {\n            text-decoration: none;\n            color: #fff;\n            padding: 1rem;\n          }\n        }\n      }\n    }\n  }\n"]))),un={firstName:"",lastName:"",address:"",password:"",coordinates:{},emailAddress:"",image:""},dn=function(){var e=Object(l.useState)(un),n=Object(O.a)(e,2),t=n[0],r=n[1],a=t.firstName,c=t.lastName,s=t.emailAddress,i=t.password,o=t.address,u=Je().setAuth,d=Object(l.useRef)(null),m=Object(g.h)(),p=function(){var e=Object(x.a)(h.a.mark((function e(n){var r,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,N.post("/createUser",t,{withCredentials:!0});case 4:r=e.sent,(a=r.data)&&(u(a),m("/dashboard")),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0.response.data);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(n){return e.apply(this,arguments)}}();return Object(C.jsx)(ln,{className:"signup",children:Object(C.jsxs)("div",{className:"signup-wrapper",children:[Object(C.jsx)("div",{className:"signup-message-panel",children:Object(C.jsxs)("div",{className:"signup-message-wrapper",children:[Object(C.jsx)("img",{src:"https://uppoint.s3.us-east-2.amazonaws.com/logo.svg",width:75}),Object(C.jsx)("h1",{children:"Join the search!"}),Object(C.jsx)("p",{children:"Sed pharetra dapibus consequat. Integer dictum lorem dolor, non rhoncus mi aliquet quis. Nam vehicula turpis ut elit rutrum gravida."}),Object(C.jsx)("button",{children:Object(C.jsx)(j.b,{to:"/login",children:"Sign In"})})]})}),Object(C.jsx)(on,{form:t,formState:function(e,n){r((function(t){return Object(F.a)(Object(F.a)({},t),{},Object(qe.a)({},n,e))}))},emailUnique:function(){en(s,d,r)},isFieldsEmpty:function(){return!(""===a|""===c|""===s|""===i|""===o)},createUser:p})]})})},mn=t(102),pn=function(e){Object(mn.a)(e);var n=Je(),t=n.auth,r=n.getAuth,a=Object(g.g)();Object(l.useEffect)((function(){c()}),[t]);var c=function(){var e=Object(x.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return void 0===t?Object(C.jsx)("div",{style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},children:Object(C.jsx)(y.a,{})}):t?Object(C.jsx)(g.b,{}):Object(C.jsx)(g.a,{to:"/login",state:{from:a}})},bn=function(){return Object(C.jsx)(j.a,{children:Object(C.jsxs)(g.e,{children:[Object(C.jsx)(g.c,{path:"/",element:Object(C.jsx)(dn,{})}),Object(C.jsx)(g.c,{path:"/login",element:Object(C.jsx)(Me,{})}),Object(C.jsx)(g.c,{element:Object(C.jsx)(pn,{}),children:Object(C.jsx)(g.c,{path:"/dashboard",element:Object(C.jsx)(ze,{})})})]})})},jn=t.p+"static/media/logo.0bb4f11e.svg",gn=w.a.div(je||(je=Object(v.a)(["\n  background-color: var(--primary-color-red);\n  .navbar-wrapper {\n    display: flex;\n    justify-content: space-between;\n    max-width: 1200px;\n    margin: 0 auto;\n    align-items: center;\n    padding: 1rem 1rem;\n    .navbar-links {\n      display: flex;\n      align-items: center;\n      gap: 0.5rem;\n      .avatar img {\n        border-radius: 2rem;\n        border: 1px solid var(--accent-light);\n        object-fit: cover;\n      }\n      .logout-btn {\n        padding: 0.5rem;\n        font-size: 1rem;\n        background-color: transparent;\n        border: none;\n        color: var(--accent-light);\n        cursor: pointer;\n        letter-spacing: 0.05rem;\n        &:hover {\n          transition: 400ms all ease-in-out;\n          opacity: 0.8;\n        }\n      }\n    }\n  }\n"]))),fn=function(){var e=Je(),n=e.auth,t=e.setAuth,r=E().currentUser,a={withCredentials:!0},c=function(){var e=Object(x.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.delete("/logoutUser",a);case 3:localStorage.setItem("userAuth",JSON.stringify(!1)),localStorage.clear(),t(null),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(C.jsx)(gn,{children:n?Object(C.jsxs)("div",{className:"navbar-wrapper",children:[Object(C.jsx)("div",{children:Object(C.jsx)("img",{src:jn,width:55,height:55})}),Object(C.jsxs)("div",{className:"navbar-links",children:[Object(C.jsx)("div",{className:"avatar",children:Object(C.jsx)("img",{src:r&&r.image,width:40,height:40})}),Object(C.jsx)("button",{className:"logout-btn",onClick:c,children:"Logout"})]})]}):null})};t(94);b.a.defaults.withCredentials=!0;var hn=function(){return Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)(Te.a,{children:[Object(C.jsx)(fn,{}),Object(C.jsx)(bn,{})]})})};t(244);m.a.render(Object(C.jsx)(u.a.StrictMode,{children:Object(C.jsx)(He,{children:Object(C.jsx)(U,{children:Object(C.jsx)(hn,{})})})}),document.getElementById("root"))},94:function(e,n,t){}},[[245,1,2]]]);
//# sourceMappingURL=main.1b8f702a.chunk.js.map